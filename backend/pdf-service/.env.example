# NEXA Document Analyzer - Environment Variables
# Copy to .env and update with production values

# === SECURITY (REQUIRED - Generate new values!) ===
ENCRYPTION_KEY=your-fernet-key-here  # Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
JWT_SECRET=change-this-in-production-to-strong-secret
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# === AUTHENTICATION ===
AUTH_ENABLED=true  # Set to true for production

# Auth0 Configuration (if AUTH_ENABLED=true)
AUTH0_DOMAIN=dev-kbnx7pja3zpg0lud.us.auth0.com
AUTH0_AUDIENCE=https://api.nexa.local

# === ML CONFIGURATION ===
FORCE_CPU=false  # Set to true on Render if no GPU
CUDA_DEVICE_ID=0
CUDA_MEMORY_FRACTION=0.8
GRADIENT_ACCUMULATION_STEPS=4
ENABLE_MIXED_PRECISION=false  # Set to true if GPU available
USE_DEEPSPEED=false  # Enable for distributed training
SEED=42
DISABLE_COMPILE=false  # Set to true if torch.compile fails

# === SERVICE CONFIGURATION ===
MAX_PAGES=1500
CHUNK_SIZE=400  # Optimized for embedding generation
PAGE_BATCH_SIZE=50
MAX_UPLOAD_SIZE_MB=200
RATE_LIMIT_PER_MINUTE=100
CACHE_TTL_SECONDS=1800

# === STORAGE PATHS ===
DATA_DIR=/data
RENDER_DISK_PATH=/data
SECURE_STORAGE_PATH=/data/secure_uploads
QUARANTINE_PATH=/data/quarantine
AUDIT_LOG_PATH=/data/audit_logs

# === DATABASE (PostgreSQL with pgvector) ===
DATABASE_URL=postgresql://user:pass@host:5432/dbname
# Format: postgresql://username:password@hostname:port/database_name

# === REDIS CACHE (Optional but recommended) ===
REDIS_URL=redis://localhost:6379/0
# Format: redis://[:password]@hostname:port/db_number

# === CELERY (For async processing) ===
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# === LOGGING ===
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=/data/logs/nexa.log
ENABLE_METRICS=true

# === API CONFIGURATION ===
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false  # Set to true for development

# === MONITORING ===
PROMETHEUS_PORT=9090
ENABLE_PROFILING=false
MEMORY_PROFILING=false

# === FEATURE FLAGS ===
ENABLE_OCR=true
ENABLE_NER=true
ENABLE_YOLO=true
ENABLE_ENCRYPTION=true
ENABLE_AUDIT_LOGGING=true

# === EXTERNAL SERVICES ===
OPENAI_API_KEY=  # If using GPT models
ANTHROPIC_API_KEY=  # If using Claude
HUGGINGFACE_TOKEN=  # For private model access
ROBOFLOW_API_KEY=  # For vision models

# === PRODUCTION SETTINGS ===
ENVIRONMENT=production  # development, staging, production
DEBUG=false
TESTING=false
CORS_ORIGINS=https://your-frontend.com,https://api.nexa.com
