# Render Blueprint - NEXA Web Dashboard
# Deploys the admin dashboard as a static site on Render
services:
  # Web Dashboard - Admin Portal
  - type: web
    name: nexa-dashboard
    runtime: static
    buildCommand: cd nexa-core/apps/web && npm install && npm run build
    staticPublishPath: ./nexa-core/apps/web/build
    branch: main
    envVars:
      - key: REACT_APP_API_URL
        value: https://nexa-core-api.onrender.com
      - key: REACT_APP_DOC_ANALYZER_URL
        value: https://nexa-doc-analyzer-oct2025.onrender.com
      - key: REACT_APP_AUTH0_DOMAIN
        value: dev-4klipkgroc7grk1q.us.auth0.com
      - key: REACT_APP_AUTH0_CLIENT_ID
        value: YOUR_AUTH0_CLIENT_ID
      - key: REACT_APP_ENV
        value: production
    plan: free  # Static sites can use free tier
    
    # Headers for SPA routing
    headers:
      - path: /*
        value:
          Cache-Control: no-cache
    
    # Redirects for client-side routing
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
