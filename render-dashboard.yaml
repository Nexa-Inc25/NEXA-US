# Render Blueprint - NEXA Web Dashboard
# Deploys the admin dashboard as a static site on Render
services:
  - type: web
    name: nexa-dashboard
    env: static
    branch: main
    buildCommand: npm install && npm run build
    staticPublishPath: ./build
    rootDir: nexa-core/apps/web
    envVars:
      - key: REACT_APP_API_URL
        value: https://nexa-core-api.onrender.com
      - key: REACT_APP_DOC_ANALYZER_URL
        value: https://nexa-doc-analyzer-oct2025.onrender.com
      - key: REACT_APP_AUTH0_DOMAIN
        value: dev-kbnx7pja3zpg0lud.us.auth0.com
      - key: REACT_APP_AUTH0_CLIENT_ID
        value: glA8cdWZIAKvNUUjxd2XQRcwLI4HM2f1
      - key: REACT_APP_ENV
        value: production
    
    # Headers for SPA routing
    headers:
      - path: /*
        value:
          Cache-Control: no-cache
    
    # Routes for client-side routing (React Router)
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
